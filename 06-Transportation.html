<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="bg" xml:lang="bg"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Въведение в математическата оптимизация - 8&nbsp; Транспортна задача</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./00-Assignments/assignments.html" rel="next">
<link href="./05-Duals/02-Sensitivity.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Няма намерени резултати",
    "search-matching-documents-text": "съвпадащи документи",
    "search-copy-link-title": "Копирай връзката в полето за търсене",
    "search-hide-matches-text": "Скрий допълнителните съвпадения",
    "search-more-match-text": "допълнително съвпадение в документа",
    "search-more-matches-text": "допълнителни съвпадения в документа",
    "search-clear-button-title": "Изчисти",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Отмени",
    "search-submit-button-title": "Изпрати",
    "search-label": "Търси"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Включи/скрий страничната навигация" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./06-Transportation.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Транспортна задача</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Включи/скрий страничната навигация" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Въведение в математическата оптимизация</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Търси"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-Introduction/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Въведение</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-Graphical-Method/01-Blending.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Графичен метод</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-Graphical-Method/02-Sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Анализ на чувствителността на решението</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-Simplex/01-Canonical-Representation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Каноничен вид на задачата за линейно програмиране</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-Simplex/02-Simplex-Method.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Симплекс алгоритъм</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-Duals/01-Duals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Дуални задачи</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-Duals/02-Sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Анализ на чувствителността (2)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-Transportation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Транспортна задача</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-Assignments/assignments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Задачи</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Литература</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./izpit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Изпит</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Библиография</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Съдържание</h2>
   
  <ul>
  <li><a href="#балансирана-задача" id="toc-балансирана-задача" class="nav-link active" data-scroll-target="#балансирана-задача"><span class="header-section-number">8.1</span> Балансирана задача</a></li>
  <li><a href="#предлагане-надвишаващо-търсенето" id="toc-предлагане-надвишаващо-търсенето" class="nav-link" data-scroll-target="#предлагане-надвишаващо-търсенето"><span class="header-section-number">8.2</span> Предлагане надвишаващо търсенето</a></li>
  <li><a href="#първоначален-опорен-план" id="toc-първоначален-опорен-план" class="nav-link" data-scroll-target="#първоначален-опорен-план"><span class="header-section-number">8.3</span> Първоначален опорен план</a>
  <ul class="collapse">
  <li><a href="#метод-на-северозападния-ъгъл" id="toc-метод-на-северозападния-ъгъл" class="nav-link" data-scroll-target="#метод-на-северозападния-ъгъл"><span class="header-section-number">8.3.1</span> Метод на северозападния ъгъл</a></li>
  <li><a href="#най-ниски-разходи" id="toc-най-ниски-разходи" class="nav-link" data-scroll-target="#най-ниски-разходи"><span class="header-section-number">8.3.2</span> Най-ниски разходи</a></li>
  </ul></li>
  <li><a href="#изроден-първоначален-план" id="toc-изроден-първоначален-план" class="nav-link" data-scroll-target="#изроден-първоначален-план"><span class="header-section-number">8.4</span> Изроден първоначален план</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Транспортна задача</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="балансирана-задача" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="балансирана-задача"><span class="header-section-number">8.1</span> Балансирана задача</h2>
<p>Дадена е таблица с транспортни разходи между три депа (източници) (<span class="math inline">S_i, i = 1,
\ldots, 3</span>) и четири града (дестинации) (<span class="math inline">D_j, j = 1, \ldots, 4</span>).</p>
<div id="tbl-transportation-costs" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-transportation-costs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Таблица&nbsp;8.1: Транспортни разходи
</figcaption>
<div aria-describedby="tbl-transportation-costs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 4%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>18</td>
<td>13</td>
<td>17</td>
<td>14</td>
<td></td>
<td>250</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>16</td>
<td>18</td>
<td>14</td>
<td>10</td>
<td></td>
<td>200</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>21</td>
<td>24</td>
<td>13</td>
<td>10</td>
<td></td>
<td>400</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Търсене</td>
<td>200</td>
<td>225</td>
<td>275</td>
<td>150</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Целта на задачата е да се определят количествата <span class="math inline">x_{ij}</span> превозени от източник <span class="math inline">i</span> до дестинация <span class="math inline">j</span> така, че общите транспортни разходи (<a href="#tbl-transportation-costs" class="quarto-xref">Таблица&nbsp;<span>8.1</span></a>) да са възможно най-ниски.</p>
<p>Общите разходи са дадени от</p>
<span class="math display">\begin{aligned}
\sum_{i = 1}^{3} \sum_{j = 1}^{4} c_{ij}x_{ij} = &amp; c_{11}x_{11} + c_{12}x_{12} + c_{13}x_{13} + c_{14}x_{14} + \\
&amp; c_{21}x_{21} + c_{22}x_{22} + c_{23}x_{23} + c_{24}x_{24} + \\
&amp; c_{31}x_{31} + c_{32}x_{32} + c_{33}x_{33} + c_{34}x_{34}
\end{aligned}</span>
<p>В конкретната задача получаваме:</p>
<span class="math display">\begin{aligned}
\sum_{i = 1}^{3} \sum_{j = 1}^{4} c_{ij}x_{ij} = &amp; 18x_{11} + 13x_{12} + 17x_{13} + 14x_{14} +  \\
&amp; 16x_{21} + 18x_{22} + 14x_{23} + 10x_{24} + \\
&amp; 21x_{31} + 24x_{32} + 13x_{33} + 10x_{34}
\end{aligned}</span>
<p>Тази цел трябва да постигнем така, че за всяка дестинация трябва да доставим точно толкова стоки, колкото е търсенето. В същото време от всеки източник не можем да изпратим повече от наличността та (предлагане). Ако запишем превозените количества в матрица (<a href="#tbl-transportation-volumes" class="quarto-xref">Таблица&nbsp;<span>8.2</span></a>), тези ограничения просто означават, че сумите по колоните на матрицата трябва да са равни на търсенето за всички източници и че сумите по редовете трябва да са равни на наличностите в източниците.</p>
<div id="tbl-transportation-volumes" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-transportation-volumes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Таблица&nbsp;8.2: Количества от източник към дестинация
</figcaption>
<div aria-describedby="tbl-transportation-volumes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 19%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 1%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td><span class="math inline">x_{11}</span></td>
<td><span class="math inline">x_{12}</span></td>
<td><span class="math inline">x_{13}</span></td>
<td><span class="math inline">x_{14}</span></td>
<td></td>
<td><span class="math inline">\sum_{j = 1}^4 x_{1j} = 250</span></td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td><span class="math inline">x_{21}</span></td>
<td><span class="math inline">x_{22}</span></td>
<td><span class="math inline">x_{23}</span></td>
<td><span class="math inline">x_{24}</span></td>
<td></td>
<td><span class="math inline">\sum_{j = 1}^4 x_{2j} = 200</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td><span class="math inline">x_{31}</span></td>
<td><span class="math inline">x_{32}</span></td>
<td><span class="math inline">x_{33}</span></td>
<td><span class="math inline">x_{34}</span></td>
<td></td>
<td><span class="math inline">\sum_{j = 1}^4 x_{3j} = 400</span></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Търсене</td>
<td><span class="math inline">\sum_{i = 1}^3 x_{i1} = 200</span></td>
<td><span class="math inline">\sum_{i = 1}^3 x_{i2} = 225</span></td>
<td><span class="math inline">\sum_{i = 1}^3 x_{i3} = 275</span></td>
<td><span class="math inline">\sum_{i = 1}^3 x_{i4} = 150</span></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Търсене при дестинация 1:</p>
<p><span class="math display">
x_{11} + x_{21} + x_{31} = 200 \\
</span></p>
<p>Търсене при дестинация 2:</p>
<p><span class="math display">
x_{12} + x_{22} + x_{32} = 225
</span> Търсене при дестинация 3:</p>
<p><span class="math display">
x_{13} + x_{23} + x_{33} = 275
</span> Търсене при дестинация 4:</p>
<p><span class="math display">
x_{14} + x_{24} + x_{34} = 150
</span></p>
<p>Наличност в източник 1:</p>
<p><span class="math display">
x_{11} + x_{12} + x_{13} + x_{14} = 250
</span></p>
<p>Наличност в източник 2:</p>
<p><span class="math display">
x_{21} + x_{22} + x_{23} + x_{24} = 200
</span></p>
<p>Наличност в източник 3:</p>
<p><span class="math display">
x_{31} + x_{32} + x_{33} + x_{34} = 250
</span></p>
<p>Цялата транспортна задача е:</p>
<p><span class="math display">\begin{align*}
\min z = 18x_{11} + 13x_{12} + 17x_{13} + 14x_{14} + \\
16x_{21} + 18x_{22} + 14x_{23} + 10x_{24} + \\
21x_{31} + 24x_{32} + 13x_{33} + 10x_{34}
\end{align*}</span></p>
<p>При ограничения:</p>
<p><span class="math display">\begin{align*}
&amp; x_{11} + x_{21} + x_{31} = 200 \\
&amp; x_{12} + x_{22} + x_{32} = 225 \\
&amp; x_{13} + x_{23} + x_{33} = 275 \\
&amp; x_{14} + x_{24} + x_{34} = 150 \\
&amp; x_{11} + x_{12} + x_{13} + x_{14} = 250 \\
&amp; x_{21} + x_{22} + x_{23} + x_{24} = 200 \\
&amp; x_{31} + x_{32} + x_{33} + x_{34} = 400
\end{align*}</span></p>
<p>Решение на задачата в Excel можете да изтеглите от <a href="https://github.com/febse/data/raw/main/opt/Transportation_balanced.xlsx">тук</a></p>
<div id="cell-1" class="cell">
<details class="code-fold">
<summary>Покажи</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gurobipy <span class="im">as</span> gp</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> gurobipy <span class="im">import</span> GRB</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a list of all the supply nodes</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>sources <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>destinations <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a dictionary for the number of units of supply for each supply node</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>supply <span class="op">=</span> {</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="dv">250</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="dv">200</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="dv">400</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>demand <span class="op">=</span> {</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="dv">200</span>,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="dv">225</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="dv">275</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>: <span class="dv">150</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>transp_costs <span class="op">=</span> {</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">1</span>): <span class="dv">18</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">2</span>): <span class="dv">13</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">3</span>): <span class="dv">17</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">4</span>): <span class="dv">14</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">1</span>): <span class="dv">16</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">2</span>): <span class="dv">18</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">3</span>): <span class="dv">14</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">4</span>): <span class="dv">10</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">1</span>): <span class="dv">21</span>,</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">2</span>): <span class="dv">24</span>,</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">3</span>): <span class="dv">13</span>,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">4</span>): <span class="dv">10</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>mod <span class="op">=</span> gp.Model(<span class="st">"Transportation problem"</span>)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>mod.Params.LogToConsole <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>routes <span class="op">=</span> mod.addVars(transp_costs.keys(), obj<span class="op">=</span>transp_costs, name<span class="op">=</span><span class="st">"route"</span>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>mod.addConstrs((routes.<span class="bu">sum</span>(i,<span class="st">'*'</span>) <span class="op">==</span> supply[i] <span class="cf">for</span> i <span class="kw">in</span> sources), name<span class="op">=</span><span class="st">'supply'</span>)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>mod.addConstrs((routes.<span class="bu">sum</span>(<span class="st">'*'</span>,j) <span class="op">==</span> demand[j] <span class="cf">for</span> j <span class="kw">in</span> destinations), name<span class="op">=</span><span class="st">'demand'</span>)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>mod.ModelSense <span class="op">=</span> GRB.MINIMIZE</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>mod.optimize()</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> mod.getVars():</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="sc">%s</span><span class="st"> = </span><span class="sc">%g</span><span class="st">'</span> <span class="op">%</span> (v.varName, v.x))</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Objective: </span><span class="sc">%g</span><span class="st">'</span> <span class="op">%</span> mod.objVal)</span></code><button title="Копирай" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="предлагане-надвишаващо-търсенето" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="предлагане-надвишаващо-търсенето"><span class="header-section-number">8.2</span> Предлагане надвишаващо търсенето</h2>
<p>Дадена е таблица с транспортни разходи между три депа (източници) (<span class="math inline">S_i, i = 1,
\ldots, 3</span>) и четири града (дестинации) (<span class="math inline">D_j, j = 1, \ldots, 4</span>).</p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 4%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>18</td>
<td>13</td>
<td>17</td>
<td>14</td>
<td></td>
<td>250</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>16</td>
<td>18</td>
<td>14</td>
<td>10</td>
<td></td>
<td>200</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>21</td>
<td>24</td>
<td>13</td>
<td>10</td>
<td></td>
<td>500</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Търсене</td>
<td>200</td>
<td>225</td>
<td>275</td>
<td>150</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Добавяме фиктивна дестинация (потребител)</p>
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th><span class="math inline">D_5</span></th>
<th></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>18</td>
<td>13</td>
<td>17</td>
<td>14</td>
<td>0</td>
<td></td>
<td>250</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>16</td>
<td>18</td>
<td>14</td>
<td>10</td>
<td>0</td>
<td></td>
<td>200</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>21</td>
<td>24</td>
<td>13</td>
<td>10</td>
<td>0</td>
<td></td>
<td>500</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Търсене</td>
<td>200</td>
<td>225</td>
<td>275</td>
<td>150</td>
<td>100</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Разходите за транспорт до този фиктивен потребител са равни на нула. Наличието на фиктивен потребител не променя структурата на задачата и тя е:</p>
<p><span class="math display">\begin{align*}
\min \sum_{i = 1}^3 \sum_{j = 1}^{5} c_{ij}x_{ij} = &amp; c_{11}x_{11} + c_{12}x_{12} + c_{13}x_{13} + c_{14}x_{14} + c_{15}x_{15} + \\
&amp; c_{21}x_{21} + c_{22}x_{22} + c_{23}x_{23} + c_{24}x_{24} + c_{25}x_{25} + \\
&amp; c_{31}x_{31} + c_{32}x_{32} + c_{33}x_{33} + c_{34}x_{34} + c_{35}x_{35} = \\
&amp; 18x_{11} + 13x_{12} + 17x_{13} + 14x_{14} + 0x_{15} + \\
&amp; 16x_{21} + 18x_{22} + 14x_{23} + 10x_{24} + 0x_{25} + \\
&amp; 21x_{31} + 24x_{32} + 13x_{33} + 10x_{34} + 0 x_{35}
\end{align*}</span></p>
<p>При ограничения</p>
<p><span class="math display">\begin{align*}
&amp; x_{11} + x_{12} + x_{13} + x_{14} + x_{15} = 250 \quad \text{Предлагане 1} \\
&amp; x_{22} + x_{22} + x_{23} + x_{24} + x_{25} = 200 \quad \text{Предлагане 2} \\
&amp; x_{32} + x_{32} + x_{33} + x_{34} + x_{35} = 500 \quad \text{Предлагане 3} \\
&amp; x_{11} + x_{21} + x_{31} = 200 \quad \text{Търсене 1} \\
&amp; x_{12} + x_{22} + x_{32} = 225 \quad \text{Търсене 2} \\
&amp; x_{13} + x_{23} + x_{33} = 275 \quad \text{Търсене 3} \\
&amp; x_{14} + x_{24} + x_{34} = 150 \quad \text{Търсене 4} \\
&amp; x_{15} + x_{25} + x_{35} = 100 \quad \text{Търсене 5} \\
\end{align*}</span></p>
<p>Решение в excel можете да свалите <a href="https://github.com/febse/data/raw/main/opt/Transportation_supply_exceeds_demand.xlsx">тук</a></p>
<div id="cell-3" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Покажи</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gurobipy <span class="im">as</span> gp</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> gurobipy <span class="im">import</span> GRB</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a list of all the supply nodes</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>sources <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>destinations <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a dictionary for the number of units of supply for each supply node</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>supply <span class="op">=</span> {</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="dv">250</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="dv">200</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="dv">500</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>demand <span class="op">=</span> {</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="dv">200</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="dv">225</span>,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="dv">275</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>: <span class="dv">150</span>,</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>: <span class="dv">100</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>transp_costs <span class="op">=</span> {</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">1</span>): <span class="dv">18</span>,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">2</span>): <span class="dv">13</span>,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">3</span>): <span class="dv">17</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">4</span>): <span class="dv">14</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">1</span>): <span class="dv">16</span>,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">2</span>): <span class="dv">18</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">3</span>): <span class="dv">14</span>,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">4</span>): <span class="dv">10</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">1</span>): <span class="dv">21</span>,</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">2</span>): <span class="dv">24</span>,</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">3</span>): <span class="dv">13</span>,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">4</span>): <span class="dv">10</span>,</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">5</span>): <span class="dv">0</span>,</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">5</span>): <span class="dv">0</span>,</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">5</span>): <span class="dv">0</span>    </span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>mod1 <span class="op">=</span> gp.Model(<span class="st">"Transportation problem (excess supply)"</span>)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>mod1.Params.LogToConsole <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>routes <span class="op">=</span> mod1.addVars(transp_costs.keys(), obj<span class="op">=</span>transp_costs, name<span class="op">=</span><span class="st">"route"</span>)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>mod1.addConstrs((routes.<span class="bu">sum</span>(i,<span class="st">'*'</span>) <span class="op">==</span> supply[i] <span class="cf">for</span> i <span class="kw">in</span> sources), name<span class="op">=</span><span class="st">'supply'</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>mod1.addConstrs((routes.<span class="bu">sum</span>(<span class="st">'*'</span>,j) <span class="op">==</span> demand[j] <span class="cf">for</span> j <span class="kw">in</span> destinations), name<span class="op">=</span><span class="st">'demand'</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>mod1.ModelSense <span class="op">=</span> GRB.MINIMIZE</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>mod1.optimize()</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> mod1.getVars():</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="sc">%s</span><span class="st"> = </span><span class="sc">%g</span><span class="st">'</span> <span class="op">%</span> (v.varName, v.x))</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Objective: </span><span class="sc">%g</span><span class="st">'</span> <span class="op">%</span> mod1.objVal)</span></code><button title="Копирай" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>route[1,1] = 0
route[1,2] = 225
route[1,3] = 0
route[1,4] = 0
route[2,1] = 200
route[2,2] = 0
route[2,3] = 0
route[2,4] = 0
route[3,1] = 0
route[3,2] = 0
route[3,3] = 275
route[3,4] = 150
route[1,5] = 25
route[2,5] = 0
route[3,5] = 75
Objective: 11200</code></pre>
</div>
</div>
<p>Кои източници не успяват да доставят цялата си наличност? Поглеждаме кои източници доставят на фиктивния потребител <span class="math inline">j = 5</span>. В настоящото решение това са <span class="math inline">S_1</span> и <span class="math inline">S_3</span>. Ако по някаква причина искаме оптимум при условие, че първият източник доставя цялата си наличност можем да поставим висока цена на доставка към фиктивната дестинация. Следващото решение показва оптимумът, когато цената за доставка от <span class="math inline">S_1</span> към <span class="math inline">D_5</span> e 100.</p>
<div id="cell-5" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Покажи</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gurobipy <span class="im">as</span> gp</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> gurobipy <span class="im">import</span> GRB</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a list of all the supply nodes</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>sources <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>destinations <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a dictionary for the number of units of supply for each supply node</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>supply <span class="op">=</span> {</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="dv">250</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="dv">200</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="dv">500</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>demand <span class="op">=</span> {</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="dv">200</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="dv">225</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="dv">275</span>,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>: <span class="dv">150</span>,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>: <span class="dv">100</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>transp_costs <span class="op">=</span> {</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">1</span>): <span class="dv">18</span>,</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">2</span>): <span class="dv">13</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">3</span>): <span class="dv">17</span>,</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">4</span>): <span class="dv">14</span>,</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">1</span>): <span class="dv">16</span>,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">2</span>): <span class="dv">18</span>,</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">3</span>): <span class="dv">14</span>,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">4</span>): <span class="dv">10</span>,</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">1</span>): <span class="dv">21</span>,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">2</span>): <span class="dv">24</span>,</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">3</span>): <span class="dv">13</span>,</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">4</span>): <span class="dv">10</span>,</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span>, <span class="dv">5</span>): <span class="dv">100</span>,</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">2</span>, <span class="dv">5</span>): <span class="dv">0</span>,</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">3</span>, <span class="dv">5</span>): <span class="dv">0</span>    </span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>mod2 <span class="op">=</span> gp.Model(<span class="st">"Transportation problem (excess supply)"</span>)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>mod2.Params.LogToConsole <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>routes <span class="op">=</span> mod2.addVars(transp_costs.keys(), name<span class="op">=</span><span class="st">"route"</span>, vtype<span class="op">=</span>GRB.CONTINUOUS, lb<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>mod2.setObjective(gp.quicksum(transp_costs[i,j]<span class="op">*</span>routes[i,j] <span class="cf">for</span> i,j <span class="kw">in</span> transp_costs.keys()), GRB.MINIMIZE)</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>mod2.addConstrs((routes.<span class="bu">sum</span>(i,<span class="st">'*'</span>) <span class="op">==</span> supply[i] <span class="cf">for</span> i <span class="kw">in</span> sources), name<span class="op">=</span><span class="st">'supply'</span>)</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>mod2.addConstrs((routes.<span class="bu">sum</span>(<span class="st">'*'</span>,j) <span class="op">==</span> demand[j] <span class="cf">for</span> j <span class="kw">in</span> destinations), name<span class="op">=</span><span class="st">'demand'</span>)</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>mod2.ModelSense <span class="op">=</span> GRB.MINIMIZE</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>mod2.optimize()</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> mod2.getVars():</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="sc">%s</span><span class="st"> = </span><span class="sc">%g</span><span class="st">'</span> <span class="op">%</span> (v.varName, v.x))</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Objective: </span><span class="sc">%g</span><span class="st">'</span> <span class="op">%</span> mod2.objVal)</span></code><button title="Копирай" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>route[1,1] = 25
route[1,2] = 225
route[1,3] = 0
route[1,4] = 0
route[2,1] = 175
route[2,2] = 0
route[2,3] = 0
route[2,4] = 0
route[3,1] = 0
route[3,2] = 0
route[3,3] = 275
route[3,4] = 150
route[1,5] = 0
route[2,5] = 25
route[3,5] = 75
Objective: 11250</code></pre>
</div>
</div>
<div id="exr-transportation-1" class="theorem exercise">
<p><span class="theorem-title"><strong>Упражнение 8.1 (Транспортна задача)</strong></span> Autoparts AG разполага с три завода в Мюнхен, Хамбурт и Бремен и с два големи центъра за дистрибуция в Берлин и в Хановер. Тримесечният капацитет на трите завода е 1000, 1500 и 500 автомобила, а търсенето в двата дистрибуторски центъра за същия период е 2300 и 1400 автомобила. Диаграмата на разстоянията между заводите и разпределителните центрове е дадена в <a href="#tbl-transportation-problem-1-dist" class="quarto-xref">Таблица&nbsp;<span>8.3</span></a>.</p>
<div id="tbl-transportation-problem-1-dist" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-transportation-problem-1-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Таблица&nbsp;8.3: Разстояния между заводи и дистрибуторски центрове
</figcaption>
<div aria-describedby="tbl-transportation-problem-1-dist-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>Берлин</th>
<th>Хановер</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Мюнхен</td>
<td>500</td>
<td>480</td>
</tr>
<tr class="even">
<td>Хамбург</td>
<td>250</td>
<td>130</td>
</tr>
<tr class="odd">
<td>Бремен</td>
<td>200</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Транспортните разходи между заводите и дистрибуторските центрове са 8 евроцента на автомобил и километър. Формулирайте целевата функция в евро, както и ограниченията на транспортната задача.</p>
<p>Формулирайте математически модел, която да намери този оптимум.</p>
</div>
<div id="exr-transportation-2" class="theorem exercise">
<p><span class="theorem-title"><strong>Упражнение 8.2 (Транспортна задача)</strong></span> Предприятие произвежда туристически раници. Търсенето на нейния продукт през пиковия период от март до юни всяка година е съответно 100, 200, 180 и 300 единици. Дружеството използва работници на непълно работно време, за да посрещне колебанията в търсенето. Знаем, че, предприятието може да произведе 50, 180, 280 и 270 единици в периода от март до юни. Търсенето през текущия месец може да бъде посрещнато по един от три начина:</p>
<ol type="1">
<li>Производството за текущия месец на цена от 40 USD на раница</li>
<li>Излишък на продукция през по-ранен месец при допълнителни разходи за складиране от $0.50 на раница на месец.</li>
<li>Излишък на продукция през по-късен месец (обратно поръчване) при допълнителни наказателни разходи от $2.00 на раница на месец.</li>
</ol>
<p>Предприятието търси да определи оптималния производствен график за четирите месеца. Формулирайте транспортна задача, която да намери този оптимум.</p>
</div>
</section>
<section id="първоначален-опорен-план" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="първоначален-опорен-план"><span class="header-section-number">8.3</span> Първоначален опорен план</h2>
<section id="метод-на-северозападния-ъгъл" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="метод-на-северозападния-ъгъл"><span class="header-section-number">8.3.1</span> Метод на северозападния ъгъл</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>300</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>500</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>400</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>100</td>
<td>700</td>
<td>50</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>100</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>200</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>500</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>400</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>700</td>
<td>50</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>100</td>
<td>200</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>500</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>400</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>500</td>
<td>50</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>100</td>
<td>200</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>0</td>
<td>500</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>400</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>0</td>
<td>50</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>100</td>
<td>200</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>0</td>
<td>500</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>0</td>
<td>0</td>
<td>500</td>
<td>0</td>
<td>350</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>100</td>
<td>200</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>0</td>
<td>500</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>0</td>
<td>0 (0)</td>
<td>500</td>
<td>350</td>
<td>0</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="най-ниски-разходи" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="най-ниски-разходи"><span class="header-section-number">8.3.2</span> Най-ниски разходи</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>12</td>
<td>300</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>13</td>
<td>10</td>
<td>5</td>
<td>9</td>
<td>500</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>2</td>
<td>1</td>
<td>14</td>
<td>15</td>
<td>400</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>100</td>
<td>700</td>
<td>50</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<p>Най-ниските транспортни разходи намираме в маршрута <span class="math inline">S_3 \to D_2</span>. Най-голямото количество, което можем да превозим по този маршрут е дадено от минимума между търсене и предлагане: <span class="math inline">\min(400, 700) = 400</span>.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>12</td>
<td>300</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>13</td>
<td>10</td>
<td>5</td>
<td>9</td>
<td>500</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>2</td>
<td>1 (400)</td>
<td>14</td>
<td>15</td>
<td>0</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>100</td>
<td>300</td>
<td>50</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<p>Следващият маршрут с най-ниски разходи е <span class="math inline">S_1 \to D_1</span> (маршрутът <span class="math inline">S_3 \ to D_1</span> има по-ниски транспортни разходи, но предлагането от третия източник е изчерпано). Най-голямото количество, което можем да превозим по този маршрут е <span class="math inline">\min(300, 100) = 100</span></p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>3 (100)</td>
<td>8</td>
<td>7</td>
<td>12</td>
<td>200</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>13</td>
<td>10</td>
<td>5</td>
<td>9</td>
<td>500</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>2</td>
<td>1 (400)</td>
<td>14</td>
<td>15</td>
<td>0</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>300</td>
<td>50</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<p>Следващият маршрут с най-ниски разходи е <span class="math inline">S_2 \to D_3</span>. Най-голямото количество, което можем да превозим по този маршрут е <span class="math inline">\min(500, 50) = 50</span></p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>3 (100)</td>
<td>8</td>
<td>7</td>
<td>12</td>
<td>200</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>13</td>
<td>10</td>
<td>5 (50)</td>
<td>9</td>
<td>450</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>2</td>
<td>1 (400)</td>
<td>14</td>
<td>15</td>
<td>0</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>300</td>
<td>0</td>
<td>350</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>3 (100)</td>
<td>8 (200)</td>
<td>7</td>
<td>12</td>
<td>0</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>13</td>
<td>10</td>
<td>5 (50)</td>
<td>9 (350)</td>
<td>150</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>2</td>
<td>1 (400)</td>
<td>14</td>
<td>15</td>
<td>0</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>100</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>3 (100)</td>
<td>8 (200)</td>
<td>7</td>
<td>12</td>
<td>0</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>13</td>
<td>10 (100)</td>
<td>5 (50)</td>
<td>9 (350)</td>
<td>0</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>2</td>
<td>1 (400)</td>
<td>14</td>
<td>15</td>
<td>0</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="изроден-първоначален-план" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="изроден-първоначален-план"><span class="header-section-number">8.4</span> Изроден първоначален план</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>2 (10)</td>
<td>5 (50)</td>
<td>1</td>
<td>2</td>
<td>60</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>8</td>
<td>1</td>
<td>2 (30)</td>
<td>4</td>
<td>30</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>6</td>
<td>2 (400)</td>
<td>2</td>
<td>9 (10)</td>
<td>10</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>10</td>
<td>50</td>
<td>30</td>
<td>10</td>
<td></td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">D_1</span></th>
<th><span class="math inline">D_2</span></th>
<th><span class="math inline">D_3</span></th>
<th><span class="math inline">D_4</span></th>
<th>Предлагане</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">S_1</span></td>
<td>2 (10)</td>
<td>5 (50)</td>
<td>1</td>
<td>2</td>
<td>60</td>
</tr>
<tr class="even">
<td><span class="math inline">S_2</span></td>
<td>8 (0)</td>
<td>1</td>
<td>2 (30)</td>
<td>4</td>
<td>30</td>
</tr>
<tr class="odd">
<td><span class="math inline">S_3</span></td>
<td>6</td>
<td>2 (400)</td>
<td>2 (0)</td>
<td>9 (10)</td>
<td>10</td>
</tr>
<tr class="even">
<td>Търсене</td>
<td>10</td>
<td>50</td>
<td>30</td>
<td>10</td>
<td></td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Копирано!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Копирано!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./05-Duals/02-Sensitivity.html" class="pagination-link" aria-label="Анализ на чувствителността (2)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Анализ на чувствителността (2)</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./00-Assignments/assignments.html" class="pagination-link" aria-label="Задачи">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Задачи</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>